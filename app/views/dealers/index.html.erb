<div class="container-fluid">
  <a name="map"></a>
  <div id="all-dealers-map" class="sf-dealers-map"></div>
</div>

<div class="container">
  <%= paginate @dealers %>

  <table class="table table-hover">
    <thead>
      <tr>
        <th><%= Dealer.human_attribute_name(:name) %></th>
        <th><%= Dealer.human_attribute_name(:phone) %></th>
        <th><%= Dealer.human_attribute_name(:street) %></th>
        <th><%= Dealer.human_attribute_name(:city) %></th>
        <th><%= Dealer.human_attribute_name(:zip) %></th>
        <th><%= Dealer.human_attribute_name(:country) %></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @dealers.each do |dealer| %>
        <tr>
          <td><%= dealer.name %></td>
          <td><%= dealer.phone %></td>
          <td><%= dealer.street %></td>
          <td><%= dealer.city %></td>
          <td><%= dealer.zip %></td>
          <td><%= dealer.country %></td>
          <td class="text-right">
            <% if dealer.has_coordinates? %>
              <%= link_to t(:show_on_map, scope: 'text'),
                "#map",
                class: "sf-map-center",
                data: {
                  longitude: dealer.longitude,
                  latitude: dealer.latitude,
                  map: "#all-dealers-map",
                  turbolinks: false 
                }
              %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= paginate @dealers %>
</div>
